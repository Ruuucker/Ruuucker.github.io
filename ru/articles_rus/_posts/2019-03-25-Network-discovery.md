---
title: Разведка в сети 
layout: post
categories: articles
tags:
  - ru
  - network
  - common
published: true
ru: true
---

# Оглавление
{:.no_toc}

* toc
{:toc}

# Введение

Это важный этап в проведении тестирований, так как на полученой информации стоятся дальнейшие действия, а действия уже определяют успешность тестирования, поэтому этой фазе стоит уделить время.
Сразу оговорюсь что речь будет в основном вестись о внутренней разведке внутри предприятия, но некоторые методы естественно будут работать и для внешней разведки. Дело лишь в том что для внешней будут гораздо эффективнее использовать другие методы и не так выстраивать общий алгоритм дейстий, но никто не запрещает эскперементировать или пытаться узнать информацию о сервере гугла через ARP таблицу.

# Арсенал

Естественно, nmap. И еще nextnet.

# Где я?

Первым делом нужно ответить именно на этот вопрос. Для этого мы используем, естественно, ifconfig и узнаем в какой мы подсетке, после чего можно сделать так:

~~~
sudo nmap -sn 192.168.0.*
~~~

Если у вас zsh, sudo nmap -sn 192.168.0.\*

Ну или sudo nmap -sn 192.168.0.1/24

Это пинг скан nmap на диапазон хостов, и этот метод очень крут, потому что:

1) Мы убиваем сразу нескольких зайцев сразу, nmap дает нам MAC адреса которые тут же сравнивает с собственной таблицей и говорит нам что это за устройство. И это очень важно так как мы уже имеем представление чем это устройство может быть, то ли свитч, то ли сервер, то ли рабочая машина, и мы можем даже доверять этому MAC адресу, потому что сколько раз Вы меняли собственный мак? Или может быть видели как его меняет кто-то другой? Тото же.

2) Мы делаем немного шума, пинги - не самый заметный и бросающийся в глаза тип пакетов, мягко говоря.

3) Он быстр, очень, диапазон из 255 хостов будет проверен через 5 секунд. Киньте в меня камень кто любит ждать по полчаса полный и тщательный скан nmap со всеми флагами -sC -sV. (О флагах чуть позже)

Так же стоит сразу обозначить свой шлюз, если это было не ясно из вывода nmap.

~~~
sudo route
~~~

Так же nmap может в трассировку

~~~
sudo nmap -traceroute 8.8.8.8
~~~

А теперь я просто накидаю полезных вещей для статьи и попозже всё это разгребу в нормальный текст

DNS резолв

~~~
nmap -R 192.168.0.1/24
~~~

Aggregate Timing
Paranoid: Very slow 	nmap -t0 192.168.1.1
Sneaky: Quite slow 	nmap -t1 192.168.1.1
Polite: Slows down 	nmap -t2 192.168.1.1
Normal: Default 	nmap -t3 192.168.1.1
Aggressive: Fast and reliable 	nmap -t4 192.168.1.1
Insane: Very aggressive 	nmap -t5 192.168.1.1

Большинство сетей не позволят тебе делать бродкаст пинг, а еще на винде так делать впринципе нельзя

И пару ссылок мне на изучение
https://www.youtube.com/watch?v=1JzG0x2xlEQ
https://www.youtube.com/watch?v=iLfJtwO6Ick



